!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.GamController=e():t.GamController=e()}(self,(function(){return function(){"use strict";var t={981:function(t,e,n){var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,".gamecontroller__container{height:100vh;width:100vw;max-height:100vh;max-width:100vw;overflow:hidden;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.gamecontroller__stage{border:2px solid;min-height:40vh;width:90vw;justify-self:flex-start;position:relative;z-index:999}.gamecontroller__main-controls{width:100%;display:flex;margin-bottom:20%}.gamecontroller__d-pad-container{align-self:flex-start;justify-self:flex-start;display:flex;flex-wrap:wrap;width:45%;justify-content:space-between;margin-left:2.5%;margin-top:2%}.gamecontroller__d-pad-btn{margin-bottom:5%}.gamecontroller__d-pad-btn--up{height:66px;width:25%;margin-left:38%;margin-right:38%}.gamecontroller__d-pad-btn--right{width:38%;height:33px}.gamecontroller__d-pad-btn--down{height:66px;width:25%;margin-left:38%;margin-right:38%}.gamecontroller__d-pad-btn--left{width:38%;height:33px}.gamecontroller__ancillaries{width:100%;display:flex;justify-content:center;align-items:center}.gamecontroller__ancillaries button{margin:5%;padding:1% 5%}.gamecontroller__actions{width:45%;display:flex;flex-direction:column-reverse;justify-content:center}.gamecontroller__action-btn{width:50px;height:50px;border-radius:50%}.gamecontroller__action-btn--2{margin-left:calc(50% - 50px)}.gamecontroller__action-btn--1{margin-left:auto}.gamecontroller__actions--four{margin-left:5%;flex-wrap:wrap;flex-direction:column;justify-content:initial}.gamecontroller__actions--four .gamecontroller__action-btn--1{margin-left:calc(50% - 12.5px)}.gamecontroller__actions--four .gamecontroller__action-btn--3{margin-left:auto;margin-top:-50px}.gamecontroller__actions--four .gamecontroller__action-btn--4{margin-left:calc(50% - 12.5px);margin-bottom:30%}@media screen and (orientation: landscape){.gamecontroller__container{flex-direction:row;flex-wrap:wrap;position:relative}.gamecontroller__stage{width:50%;height:90vh;top:1vh;position:absolute;left:27%}.gamecontroller__main-controls{width:100%;position:absolute;top:0;left:0;padding-top:33vh}.gamecontroller__d-pad-container{width:25%;margin-left:1%}.gamecontroller__actions{width:25%;margin-left:auto;margin-right:1%}.gamecontroller__ancillaries{width:100%;bottom:0;position:absolute;height:9vh;z-index:99}.gamecontroller__ancillaries button{margin:0 1%;padding:.25% 5%}.gamecontroller__d-pad-btn{margin-bottom:5%}.gamecontroller__d-pad-btn--up{height:66px;width:25%;margin-left:38%;margin-right:38%}.gamecontroller__d-pad-btn--right{width:38%;height:33px}.gamecontroller__d-pad-btn--down{height:66px;width:25%;margin-left:38%;margin-right:38%}.gamecontroller__d-pad-btn--left{width:38%;height:33px}.gamecontroller__actions--four .gamecontroller__action-btn--1{margin-left:calc(50% - 6.25px)}.gamecontroller__actions--four .gamecontroller__action-btn--2{margin-right:auto}.gamecontroller__actions--four .gamecontroller__action-btn--3{margin-left:auto}.gamecontroller__actions--four .gamecontroller__action-btn--4{margin-left:calc(50% - 6.25px)}}",""]),e.Z=a},645:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},81:function(t){t.exports=function(t){return t[1]}},379:function(t){var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],l=0;l<t.length;l++){var s=t[l],c=r.base?s[0]+r.base:s[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var h=n(u),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var p=o(f,r);r.byIndex=l,e.splice(l,0,{identifier:u,updater:p,references:1})}a.push(u)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var l=n(i[a]);e[l].references--}for(var s=r(t,o),c=0;c<i.length;c++){var d=n(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=s}}},569:function(t){var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{default:function(){return y}});var t=n(379),e=n.n(t),o=n(795),i=n.n(o),a=n(569),l=n.n(a),s=n(565),c=n.n(s),d=n(216),u=n.n(d),h=n(589),f=n.n(h),p=n(981),m={};m.styleTagTransform=f(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=u();e()(p.Z,m),p.Z&&p.Z.locals&&p.Z.locals;function g(t){const e=document.createElement(t.type);return t.attributes?.forEach((t=>{"classes"===t[0]?e.classList.add(...t[1]):e.setAttribute(t[0],t[1])})),e.textContent=t.text,t.ref&&(this.refs[t.ref]=e),t.children&&t.children.forEach((t=>{e.appendChild(g.call(this,t))})),e}function _(t,e){window.dispatchEvent(new CustomEvent(t,{detail:{...e,controller:this},bubbles:!0}))}const b={1:"Y",2:"X",3:"B",4:"A"},v={1:"A",2:"B"};class y{constructor(t,e){this.root=document.querySelector(t),this.actions=e?.actions||2,this.refs={},this.hooks=e.hooks||{},this.vibrate=e.vibrate||!0,this.fullscreen=!1,this.document=document.documentElement}attachEventHandlers=()=>{this.refs.ancillaries.fullscreen.addEventListener("click",(()=>{this.hooks.fullscreen&&this.hooks.fullscreen(this),this.vibrate&&navigator.vibrate(10),this.fullscreen=!this.fullscreen,this.fullscreen?this.openFullscreen():this.closeFullscreen(),_.call(this,"gamecontroller:ancillary:fullscreen")})),this.refs.ancillaries.select.addEventListener("click",(()=>{this.hooks.select&&this.hooks.select(this),this.vibrate&&navigator.vibrate(10),_.call(this,"gamecontroller:ancillary:select")})),this.refs.ancillaries.start.addEventListener("click",(()=>{this.hooks.start&&this.hooks.start(this),this.vibrate&&navigator.vibrate(10),_.call(this,"gamecontroller:ancillary:start")})),this.refs.dpad.up.addEventListener("click",(()=>{this.hooks.up&&this.hooks.up(this),this.vibrate&&navigator.vibrate(10),_.call(this,"gamecontroller:dpad:up")})),this.refs.dpad.right.addEventListener("click",(()=>{this.hooks.right&&this.hooks.right(this),this.vibrate&&navigator.vibrate(10),_.call(this,"gamecontroller:dpad:right")})),this.refs.dpad.down.addEventListener("click",(()=>{this.hooks.down&&this.hooks.down(this),this.vibrate&&navigator.vibrate(10),_.call(this,"gamecontroller:dpad:down")})),this.refs.dpad.left.addEventListener("click",(()=>{this.hooks.left&&this.hooks.left(this),this.vibrate&&navigator.vibrate(10),_.call(this,"gamecontroller:dpad:left")})),this.refs.actions.buttons.forEach(((t,e)=>{t.addEventListener("click",(()=>{const t=2===this.actions?v[e+1]:b[e+1];this.hooks[t]&&this.hooks[t](this),this.vibrate&&navigator.vibrate(10),_.call(this,`gamecontroller:action:${2===this.actions?v[e+1]:b[e+1]}`)}))}))};closeFullscreen=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};openFullscreen=()=>{this.document.requestFullscreen?this.document.requestFullscreen():this.document.webkitRequestFullscreen?this.document.webkitRequestFullscreen():this.document.msRequestFullscreen&&this.document.msRequestFullscreen()};render(){this.root.appendChild(g.call(this,{type:"div",attributes:[["classes",["gamecontroller__container"]]],children:[{type:"div",attributes:[["classes",["gamecontroller__stage"]]],ref:"stage"},{type:"div",attributes:[["classes",["gamecontroller__ancillaries"]]],children:[{type:"button",attributes:[["classes",["gamecontroller__ancillary-btn"]],["type","button"],["id","fullscreen"]],text:"fullscreen",ref:"fullscreenBtn"},{type:"button",attributes:[["classes",["gamecontroller__ancillary-btn"]],["type","button"]],text:"select",ref:"selectBtn"},{type:"button",attributes:[["classes",["gamecontroller__ancillary-btn"]],["type","button"]],text:"start",ref:"startBtn"}]},{type:"div",attributes:[["classes",["gamecontroller__main-controls"]]],children:[{type:"div",attributes:[["classes",["gamecontroller__d-pad-container"]]],children:[{type:"button",attributes:[["classes",["gamecontroller__d-pad-btn","gamecontroller__d-pad-btn--up"]]],ref:"upBtn"},{type:"button",attributes:[["classes",["gamecontroller__d-pad-btn","gamecontroller__d-pad-btn--left"]]],ref:"leftBtn"},{type:"button",attributes:[["classes",["gamecontroller__d-pad-btn","gamecontroller__d-pad-btn--right"]]],ref:"rightBtn"},{type:"button",attributes:[["classes",["gamecontroller__d-pad-btn","gamecontroller__d-pad-btn--down"]]],ref:"downBtn"}]},{type:"div",attributes:[["classes",["gamecontroller__actions",""+(2===this.actions?"gamecontroller__actions--two":"gamecontroller__actions--four")]]],children:new Array(this.actions).fill().map(((t,e)=>({type:"button",attributes:[["classes",["gamecontroller__action-btn",`gamecontroller__action-btn--${e+1}`]]],text:2===this.actions?v[e+1]:b[e+1],ref:`${2===this.actions?v[e+1]:b[e+1]}btn`})))}]}],ref:"container"}))}}}(),r}()}));