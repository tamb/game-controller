{"mappings":"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","sources":["src/index.js"],"sourcesContent":["function addVibrations() {\r\n  const buttons = document.querySelectorAll(\r\n    \".game-controller__Container button\"\r\n  );\r\n  buttons.forEach((button) => {\r\n    button.addEventListener(\"click\", () => {\r\n      navigator.vibrate(10);\r\n    });\r\n  });\r\n}\r\n\r\nfunction toggleFullscreen() {\r\n  var fullscreen = false;\r\n\r\n  var elem = document.documentElement;\r\n\r\n  document.getElementById(\"fullscreen\").addEventListener(\"click\", function () {\r\n    fullscreen = !fullscreen;\r\n    fullscreen ? openFullscreen() : closeFullscreen();\r\n  });\r\n\r\n  /* View in fullscreen */\r\n  function openFullscreen() {\r\n    if (elem.requestFullscreen) {\r\n      elem.requestFullscreen();\r\n    } else if (elem.webkitRequestFullscreen) {\r\n      /* Safari */\r\n      elem.webkitRequestFullscreen();\r\n    } else if (elem.msRequestFullscreen) {\r\n      /* IE11 */\r\n      elem.msRequestFullscreen();\r\n    }\r\n  }\r\n\r\n  /* Close fullscreen */\r\n  function closeFullscreen() {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n      /* Safari */\r\n      document.webkitExitFullscreen();\r\n    } else if (document.msExitFullscreen) {\r\n      /* IE11 */\r\n      document.msExitFullscreen();\r\n    }\r\n  }\r\n}\r\n\r\n//Todo - create elementCreator\r\n\r\nfunction createElement(obj) {\r\n  const el = document.createElement(obj.type);\r\n  obj.attributes?.forEach((attrTuple) => {\r\n    if (attrTuple[0] === \"classes\") {\r\n      el.classList.add(...attrTuple[1]);\r\n    } else {\r\n      el.setAttribute(attrTuple[0], attrTuple[1]);\r\n    }\r\n  });\r\n  el.textContent = obj.text;\r\n\r\n  return el;\r\n}\r\n\r\n// TODO: refactor to use\r\n// DocumentFragments, eventListeners for hooks, custom events, render Attributes, custom button text\r\nclass GameController {\r\n  constructor(query, config) {\r\n    this.root = document.querySelector(query);\r\n    this.actions = config?.actions || 2;\r\n    this.refs = {};\r\n  }\r\n\r\n  createContainer() {\r\n    this.refs.container = createElement({\r\n      type: \"div\",\r\n      attributes: [[\"classes\", [\"game-controller__container\"]]],\r\n    });\r\n  }\r\n\r\n  createStage() {\r\n    this.refs.stage = createElement({\r\n      type: \"div\",\r\n      attributes: [[\"classes\", [\"game-controller__stage\"]]],\r\n    });\r\n  }\r\n\r\n  createAncillaries() {\r\n    this.refs.ancillaries = {\r\n      container: createElement({\r\n        type: \"div\",\r\n        attributes: [[\"classes\", [\"game-controller__ancillaries\"]]],\r\n      }),\r\n      fullscreen: createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\"classes\", [\"game-controller__ancillary-btn\"]],\r\n          [\"type\", \"button\"],\r\n          [\"id\", \"fullscreen\"],\r\n        ],\r\n        text: \"fullscreen\",\r\n      }),\r\n      select: createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\"classes\", [\"game-controller__ancillary-btn\"]],\r\n          [\"type\", \"button\"],\r\n        ],\r\n        text: \"select\",\r\n      }),\r\n      start: createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\"classes\", [\"game-controller__ancillary-btn\"]],\r\n          [\"type\", \"button\"],\r\n        ],\r\n        text: \"start\",\r\n      }),\r\n    };\r\n  }\r\n\r\n  createMainControlsContainer() {\r\n    this.refs.mainControls = createElement({\r\n      type: \"div\",\r\n      attributes: [[\"classes\", [\"game-controller__main-controls\"]]],\r\n    });\r\n  }\r\n\r\n  createDPad() {\r\n    this.refs.dpad = {\r\n      container: createElement({\r\n        type: \"div\",\r\n        attributes: [[\"classes\", [\"game-controller__d-pad-container\"]]],\r\n      }),\r\n      up: createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\r\n            \"classes\",\r\n            [\"game-controller__d-pad-btn\", \"game-controller__d-pad-btn--up\"],\r\n          ],\r\n        ],\r\n      }),\r\n      right: createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\r\n            \"classes\",\r\n            [\"game-controller__d-pad-btn\", \"game-controller__d-pad-btn--right\"],\r\n          ],\r\n        ],\r\n      }),\r\n      down: createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\r\n            \"classes\",\r\n            [\"game-controller__d-pad-btn\", \"game-controller__d-pad-btn--down\"],\r\n          ],\r\n        ],\r\n      }),\r\n      left: createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\r\n            \"classes\",\r\n            [\"game-controller__d-pad-btn\", \"game-controller__d-pad-btn--left\"],\r\n          ],\r\n        ],\r\n      }),\r\n    };\r\n\r\n    this.refs.dpad.container.appendChild(this.refs.dpad.up);\r\n    this.refs.dpad.container.appendChild(this.refs.dpad.left);\r\n    this.refs.dpad.container.appendChild(this.refs.dpad.right);\r\n    this.refs.dpad.container.appendChild(this.refs.dpad.down);\r\n    this.refs.mainControls.appendChild(this.refs.dpad.container);\r\n  }\r\n\r\n  createActions() {\r\n    this.refs.actions.buttons = new Array(this.actions).fill().map((x, i) => {\r\n      return createElement({\r\n        type: \"button\",\r\n        attributes: [\r\n          [\r\n            \"classes\",\r\n            [\r\n              \"game-controller__action-btn\",\r\n              `game-controller__action-btn--${i + 1}`,\r\n            ],\r\n          ],\r\n        ],\r\n      });\r\n    });\r\n\r\n    this.refs.actions.buttons.forEach((btn) => {\r\n      this.refs.actions.actionsContainer.appendChild(btn);\r\n    });\r\n  }\r\n\r\n  createActionsContainer() {\r\n    this.refs.actions = {};\r\n    this.refs.actions.actionsContainer = createElement({\r\n      type: \"div\",\r\n      attributes: [\r\n        [\r\n          \"classes\",\r\n          [\r\n            \"game-controller__actions\",\r\n            `${\r\n              this.actions === 2\r\n                ? \"game-controller__actions--two\"\r\n                : \"game-controller__actions--four\"\r\n            }`,\r\n          ],\r\n        ],\r\n      ],\r\n    });\r\n  }\r\n\r\n  createAllElements() {\r\n    this.createContainer();\r\n    this.createStage();\r\n    this.createAncillaries();\r\n    this.createMainControlsContainer();\r\n    this.createDPad();\r\n    this.createActionsContainer();\r\n    this.createActions();\r\n  }\r\n\r\n  insertAllElements() {\r\n    // once all refs are made, then append in order\r\n    this.refs.container.appendChild(this.refs.stage);\r\n    this.refs.ancillaries.container.appendChild(\r\n      this.refs.ancillaries.fullscreen\r\n    );\r\n    this.refs.ancillaries.container.appendChild(this.refs.ancillaries.select);\r\n    this.refs.ancillaries.container.appendChild(this.refs.ancillaries.start);\r\n    this.refs.container.appendChild(this.refs.ancillaries.container);\r\n    this.refs.container.appendChild(this.refs.mainControls);\r\n    this.refs.mainControls.appendChild(this.refs.actions.actionsContainer);\r\n  }\r\n\r\n  render() {\r\n    this.createAllElements();\r\n    this.insertAllElements();\r\n    this.root.appendChild(this.refs.container);\r\n  }\r\n\r\n  // render() {\r\n  //   return `<div class=\"game-controller__Container\">\r\n  //     <div class=\"game-controller__stage\"></div>\r\n  //     <div class=\"game-controller__ancillaries\">\r\n  //       <button type=\"button\" id=\"fullscreen\">fullscreen</buttontype>\r\n  //       <button type=\"button\">Select</button>\r\n  //       <button type=\"button\">Start</button>\r\n  //     </div>\r\n  //     <div class=\"game-controller__main-controls\">\r\n  //       <div class=\"game-controller__d-pad-container\">\r\n  //         <button\r\n  //           type=\"button\"\r\n  //           class=\"\r\n  //             game-controller__d-pad-button game-controller__d-pad-button--up\r\n  //           \"\r\n  //         ></button>\r\n  //         <button\r\n  //           type=\"button\"\r\n  //           class=\"\r\n  //             game-controller__d-pad-button game-controller__d-pad-button--left\r\n  //           \"\r\n  //         ></button>\r\n  //         <button\r\n  //           type=\"button\"\r\n  //           class=\"\r\n  //             game-controller__d-pad-button game-controller__d-pad-button--right\r\n  //           \"\r\n  //         ></button>\r\n  //         <button\r\n  //           type=\"button\"\r\n  //           class=\"\r\n  //             game-controller__d-pad-button game-controller__d-pad-button--down\r\n  //           \"\r\n  //         ></button>\r\n  //       </div>\r\n  //       ${this.renderActions()}\r\n  //     </div>\r\n  //   </div>`;\r\n  // }\r\n}\r\n\r\nvar actions = 2;\r\nfunction createController() {\r\n  const controller = new GameController(\"#app\", { actions });\r\n  const app = document.getElementById(\"app\");\r\n  app.innerHTML = \"\";\r\n  controller.render();\r\n  addVibrations();\r\n  document\r\n    .getElementById(\"fullscreen\")\r\n    .addEventListener(\"click\", toggleFullscreen);\r\n  document\r\n    .querySelector(\".game-controller__stage\")\r\n    .addEventListener(\"click\", function () {\r\n      console.log(\"click\");\r\n      if (actions == 2) {\r\n        actions = 4;\r\n      } else {\r\n        actions = 2;\r\n      }\r\n      createController();\r\n    });\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  createController();\r\n});\r\n"],"names":["addVibrations","document","querySelectorAll","forEach","button","addEventListener","navigator","vibrate","toggleFullscreen","fullscreen","elem","documentElement","getElementById","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","createElement","obj","_obj$attributes","el","type","attributes","attrTuple","_el$classList","classList","add","apply","_toConsumableArray","setAttribute","textContent","text","GameController","query","config","_classCallCheck","this","root","querySelector","actions","refs","value","container","stage","ancillaries","select","start","mainControls","dpad","up","right","down","left","appendChild","_this","buttons","Array","fill","map","x","i","concat","btn","actionsContainer","createContainer","createStage","createAncillaries","createMainControlsContainer","createDPad","createActionsContainer","createActions","createAllElements","insertAllElements","createController","controller","innerHTML","render","console","log"],"version":3,"file":"index.5269ebb7.js.map"}